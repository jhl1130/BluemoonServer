//----------------------------------------------------------------------------------------------------
// cUserCharacter
// :  유저 계정 객체
//  -JHL-2012-03-02
//----------------------------------------------------------------------------------------------------
using System;
using System.Collections;
using System.Collections.Generic;

namespace BlueEngine
{
	//----------------------------------------------------------------------------------------------------
	/// <summary>
	///  유저 캐릭터 객체
	/// </summary>
	//----------------------------------------------------------------------------------------------------
	public class cUserCharacter : cObject
	{
		//----------------------------------------------------------------------------------------------------
		#region 캐릭터 클래스
		//----------------------------------------------------------------------------------------------------
		/// <summary>
		/// 캐릭터 클래스
		/// </summary>
		//----------------------------------------------------------------------------------------------------
		public enum eClass
		{
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 인간
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			Human=0,
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 뱀파이어
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			Vampire,
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 늑대인간
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			Werewolf,
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 최대값
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			MAX_CLASS
		}
		#endregion

		//----------------------------------------------------------------------------------------------------
		#region 장착 슬롯
		//----------------------------------------------------------------------------------------------------
		/// <summary>
		/// 장착 슬롯
		/// </summary>
		//----------------------------------------------------------------------------------------------------
		public enum eEquipSlot
		{
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 헤어
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			Hair=0,
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 피부
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			Skin,
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 얼굴
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			Face,
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 투구,모자
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			Helm,
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 상의
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			Chast,
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 하의
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			Legs,
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 신발
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			Boots,
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 장갑
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			Gloves,
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 벨트
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			Belt,
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 목걸이
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			Amulet,
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 팔목
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			Bracers, 
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 왼손 반지
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			L_Ring, 
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 오른손 반지
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			R_Ring, 
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 왼손 무기
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			L_Weapon, 
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 오른손 무기
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			R_Weapon, 
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 코스튬
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			Costume, 
			//----------------------------------------------------------------------------------------------------
			/// <summary>
			/// 최대값
			/// </summary>
			//----------------------------------------------------------------------------------------------------
			MAX_EQUIPSLOT
		}
		#endregion

		//----------------------------------------------------------------------------------------------------
		#region 상수
		//----------------------------------------------------------------------------------------------------
		/// <summary>
		/// 최대 캐릭터 아이디
		/// </summary>
		//----------------------------------------------------------------------------------------------------
		public		const	ulong		MAX_CHARACTER_ID	= ulong.MaxValue;
		//----------------------------------------------------------------------------------------------------
		/// <summary>
		/// 최대 인벤 슬롯 번호
		/// </summary>
		//----------------------------------------------------------------------------------------------------
		public		const	ushort		MAX_INVEN_SLOT		= 3000;
		#endregion

		//----------------------------------------------------------------------------------------------------
		#region 변수
		//----------------------------------------------------------------------------------------------------
		/// <summary>
		/// 유저 캐릭터 아이디
		/// </summary>
		//----------------------------------------------------------------------------------------------------
		public				cDBField						char_id				= new cDBField("char_id",(ulong)0);
		//----------------------------------------------------------------------------------------------------
		/// <summary>
		/// 캐릭터 이름
		/// </summary>
		//----------------------------------------------------------------------------------------------------
		public				cDBField						name				= new cDBField("name","");
		//----------------------------------------------------------------------------------------------------
		/// <summary>
		/// 캐릭터 클래스
		/// </summary>
		//----------------------------------------------------------------------------------------------------
		public				cDBField						item_info_id		= new cDBField("item_info_id",(uint)0);
        //----------------------------------------------------------------------------------------------------
		/// <summary>
		/// 장착 아이템 슬롯번호
		/// </summary>
        //----------------------------------------------------------------------------------------------------
        public				cDBField[]						equip				= new cDBField[(int)eEquipSlot.MAX_EQUIPSLOT];
        //----------------------------------------------------------------------------------------------------
		/// <summary>
		/// 장착 아이템
		/// </summary>
        //----------------------------------------------------------------------------------------------------
        private				Dictionary<ushort,cUserItem>	inven				= new Dictionary<ushort,cUserItem>();
		#endregion

		//----------------------------------------------------------------------------------------------------
		#region 속성
		#endregion


		//----------------------------------------------------------------------------------------------------
		/// <summary>
		/// 생성자
		/// </summary>
		//----------------------------------------------------------------------------------------------------
		public cUserCharacter():this(0,"Unknown",0)
		{
		}
		//----------------------------------------------------------------------------------------------------
		/// <summary>
		/// 생성자
		/// </summary>
		/// <param name="char_id">캐릭터 아이디</param>
		/// <param name="name">캐릭터 이름</param>
		/// <param name="item_info_id">아이템정보 아이디</param>
		//----------------------------------------------------------------------------------------------------
		public cUserCharacter( ulong char_id, string name, uint item_info_id ):base()
		{
			this.char_id.Value		= char_id;
			this.name.Value			= name;
			this.item_info_id.Value	= item_info_id;

			for( int c=0; c<equip.Length; ++c )
			{
				equip[0] = new cDBField("equip"+c, (short)-1 );
			}
		}

		//----------------------------------------------------------------------------------------------------
		/// <summary>
		/// 장착슬롯 비우기
		/// </summary>
		//----------------------------------------------------------------------------------------------------
		public void ClearEquip()
		{
			for( int c=0; c<equip.Length; ++c )
			{
				equip[c].Value	= (short)-1;
				equip[c].Modify = false;
			}
		}
	}
}
